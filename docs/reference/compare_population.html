<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The population comparison is a summary of the co-variates in a data set with
no reference to outcome, but comparing intervention groups. It will report
summary statistics for continuous and counts for categorical data, for each
of the intervention groups, and reports on the significance of the
association in relation to the intervention groups. It gives a clear summary
of whether data is correlated to intervention."><title>Compares the population against an intervention in a summary table — compare_population • tableone</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compares the population against an intervention in a summary table — compare_population"><meta property="og:description" content="The population comparison is a summary of the co-variates in a data set with
no reference to outcome, but comparing intervention groups. It will report
summary statistics for continuous and counts for categorical data, for each
of the intervention groups, and reports on the significance of the
association in relation to the intervention groups. It gives a clear summary
of whether data is correlated to intervention."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tableone</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tableone.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/configuration.html">tableone: Configuration</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bristol-vaccine-centre/tableone/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Compares the population against an intervention in a summary table</h1>
      <small class="dont-index">Source: <a href="https://github.com/bristol-vaccine-centre/tableone/blob/HEAD/R/tableone.R" class="external-link"><code>R/tableone.R</code></a></small>
      <div class="d-none name"><code>compare_population.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The population comparison is a summary of the co-variates in a data set with
no reference to outcome, but comparing intervention groups. It will report
summary statistics for continuous and counts for categorical data, for each
of the intervention groups, and reports on the significance of the
association in relation to the intervention groups. It gives a clear summary
of whether data is correlated to intervention.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compare_population</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  label_fn <span class="op">=</span> <span class="op">~</span><span class="va">.x</span>,</span>
<span>  units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  override_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"compact"</span>,</span>
<span>  override_percent_dp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  override_real_dp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  p_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.pvalue.defaults</span><span class="op">)</span>,</span>
<span>  font_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"tableone.font_size"</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"tableone.font"</span>, <span class="st">"Arial"</span><span class="op">)</span>,</span>
<span>  footer_text <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>a dataframe of individual observations. If using the <code>tidyselect</code>
syntax data grouping defines the intervention group and should be present. if the
formula interface is used the first variable in the right hand side of the
formula is used as the intervention, in which case grouping is ignored.</p></dd>


<dt>...</dt>
<dd><p>the columns of variables we wish to summarise. This can be given as
a <code>tidyselect</code> specification (see <code><a href="https://tidyselect.r-lib.org/articles/syntax.html" class="external-link">utils::vignette("syntax", package = "tidyselect")</a></code>),
identifying the columns. Alternatively it can be given as a formula of the nature</p>
<p><code>outcome ~ intervention + covariate_1 + covariate_2 + ...</code> .</p>
<p>which may be more convenient if you are going on to do a model fit later. If the
latter format the left hand side is ignored (outcomes are not usual in
this kind of table).</p></dd>


<dt>label_fn</dt>
<dd><p>(optional) a function for mapping a co-variate column name to
printable label. This is by default a no-operation and the output table
will contain the dataframe column names as labels. A simple alternative
would be some form of <a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">dplyr::case_when</a> lookup, or a string function such
as <a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">stringr::str_to_sentence</a>. (N.b. this function must be vectorised).
Any value provided here will be overridden by the
<code>options("tableone.labeller" = my_label_fn)</code> which allows global setting of
the labeller.</p></dd>


<dt>units</dt>
<dd><p>(optional) a named list of units, following a <code>c(&lt;colname_1&gt; = "&lt;unit_1&gt;", &lt;colname_2&gt; = "&lt;unit_2&gt;", ...)</code> format. columns not present in
this list are assumed to have no units. Units may be involved in the
formatting of the summary output.</p></dd>


<dt>override_type</dt>
<dd><p>(optional) a named list of data summary types. The
default type for a column in a data set are calculated using heurisitics
depending on the nature of the data (categorical or continuous), and result
of normality tests. if you want to override this the options are
"subtype_count","median_iqr","mean_sd","skipped" and you
specify this on a column by column bases with a named list (e.g
<code>c("Petal.Width"="mean_sd")</code>). Overriding the default does not check the
type of data is correct for the summary type and will potentially cause
errors if this is not done correctly.</p></dd>


<dt>layout</dt>
<dd><p>(optional) various layouts are defined as default. As of this
version of <code>tableone</code> they are
"relaxed","compact","simple","single","missing". The layouts can be
customised using the options <code>options("tableone.format_list"=list(...)")</code>,
and this is described in more detail in the vignettes.</p></dd>


<dt>override_percent_dp</dt>
<dd><p>(optional) a named list of overrides for the default
precision of formatting percentages, following a <code>c(&lt;colname_1&gt; = 2, &lt;colname_2&gt; = 4, ...)</code> format. columns not present in this list
will use the defaults defined in the layout. See the vignette on customisation.</p></dd>


<dt>override_real_dp</dt>
<dd><p>(optional) a named list of overrides for the default
precision of formatting real values, following a <code>c(&lt;colname_1&gt; = 2, &lt;colname_2&gt; = 4, ...)</code> format. columns not present in this list
will use the defaults defined in the layout. See the
<code>utils::vignette("customisation", package="tableone")</code>.</p></dd>


<dt>p_format</dt>
<dd><p>the format of the p-values: one of
"sampl", "nejm", "jama", "lancet", "aim" but any value
here is overridden by the <code>option("tableone.pvalue_formatter"=function(...))</code></p></dd>


<dt>font_size</dt>
<dd><p>(optional) the font size for the table in points</p></dd>


<dt>font</dt>
<dd><p>(optional) the font family for the table (which will be matched to
closest on your system)</p></dd>


<dt>footer_text</dt>
<dd><p>any text that needs to be added at the end of the table,
setting this to FALSE dsables the whole footer (as does
<code>options("tableone.hide_footer"=TRUE)</code>) .</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a <code>huxtable</code> formatted table.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># the heuristics detect that Petals in the iris data set are not normally</span></span></span>
<span class="r-in"><span><span class="co"># distributed and hence report median and IQR:</span></span></span>
<span class="r-in"><span><span class="va">iris</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">compare_population</span><span class="op">(</span><span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>restarting interrupted promise evaluation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mean_sd summary for Sepal.Length</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mean_sd summary for Sepal.Width</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for Petal.Length</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for Petal.Width</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in case_when(is.na(percent) ~ fmt, is.numeric(percent) ~ fmt %&gt;%     stringr::str_replace_all("%([0-9]+)\\.([0-9]+)(f|g)%%", paste0("%\\1.",         percent, "\\3%%")), is.character(percent) ~ fmt %&gt;% stringr::str_replace_all("%([0-9]+)\\.([0-9]+)(f|g)%%",     paste0("%\\1.", percent, "%%")), TRUE ~ fmt):</span> could not find function "case_when"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Missing data</span></span></span>
<span class="r-in"><span><span class="va">old</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"tableone.show_pvalue_method"</span><span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">missing_diamonds</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">is_colored</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">compare_population</span><span class="op">(</span><span class="op">-</span><span class="va">color</span>, layout<span class="op">=</span><span class="st">"relaxed"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>restarting interrupted promise evaluation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for carat</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subtype_count summary for cut</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subtype_count summary for clarity</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for depth</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for table</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for price</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for x</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for y</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for z</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in case_when(is.na(percent) ~ fmt, is.numeric(percent) ~ fmt %&gt;%     stringr::str_replace_all("%([0-9]+)\\.([0-9]+)(f|g)%%", paste0("%\\1.",         percent, "\\3%%")), is.character(percent) ~ fmt %&gt;% stringr::str_replace_all("%([0-9]+)\\.([0-9]+)(f|g)%%",     paste0("%\\1.", percent, "%%")), TRUE ~ fmt):</span> could not find function "case_when"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op">=</span> <span class="va">missing_diamonds</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="explicit_na.html">explicit_na</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">is_colored</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">compare_population</span><span class="op">(</span><span class="op">-</span><span class="va">color</span>,</span></span>
<span class="r-in"><span>    footer_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"IQR: Interquartile range; CI: Confidence interval"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"Line two"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>restarting interrupted promise evaluation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for carat</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subtype_count summary for cut</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> subtype_count summary for clarity</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for depth</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for table</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for price</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for x</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for y</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> median_iqr summary for z</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in case_when(is.na(percent) ~ fmt, is.numeric(percent) ~ fmt %&gt;%     stringr::str_replace_all("%([0-9]+)\\.([0-9]+)(f|g)%%", paste0("%\\1.",         percent, "\\3%%")), is.character(percent) ~ fmt %&gt;% stringr::str_replace_all("%([0-9]+)\\.([0-9]+)(f|g)%%",     paste0("%\\1.", percent, "%%")), TRUE ~ fmt):</span> could not find function "case_when"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">old</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

